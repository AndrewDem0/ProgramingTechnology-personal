import networkx as nx
import matplotlib.pyplot as plt

# Створюємо граф
G = nx.Graph()

# Додаємо вершини з характеристиками ПК (процесор, частота, ОЗУ)
vertices = {
    0: {'Процесор': '1 ядро', 'Частота': '<1 ГГц', 'ОЗУ': '2 Гб'},
    1: {'Процесор': '4 ядра', 'Частота': '>2 ГГц', 'ОЗУ': '8 Гб'},
    2: {'Процесор': '2 ядра', 'Частота': '1-2 ГГц', 'ОЗУ': '4 Гб'},
    3: {'Процесор': '2 ядра', 'Частота': '>2 ГГц', 'ОЗУ': '4 Гб'},
    4: {'Процесор': '1 ядро', 'Частота': '<1 ГГц', 'ОЗУ': '2 Гб'},
    5: {'Процесор': '4 ядра', 'Частота': '>2 ГГц', 'ОЗУ': '8 Гб'}
}

# Додаємо вершини до графа
for v, attr in vertices.items():
    G.add_node(v, **attr)

# Додаємо ребра з типами з'єднання та затримкою
edges = [
    (0, 1, {'Тип': 'Оптоволокно', 'Затримка': '<20 мс'}),
    (1, 2, {'Тип': 'Дротове', 'Затримка': '21-50 мс'}),
    (2, 3, {'Тип': 'Радіоканал', 'Затримка': '>51 мс'}),
    (3, 4, {'Тип': 'Оптоволокно', 'Затримка': '<20 мс'}),
    (4, 5, {'Тип': 'Дротове', 'Затримка': '21-50 мс'}),
    (5, 0, {'Тип': 'Радіоканал', 'Затримка': '>51 мс'})
]

# Додаємо ребра до графа
G.add_edges_from(edges)

# Налаштування позицій для візуалізації графа
pos = nx.spring_layout(G)

# Малюємо вершини та підписуємо їх
nx.draw(G, pos, with_labels=True, node_color='lightblue', node_size=2000, font_size=10, font_weight='bold')

# Додаємо інформацію про характеристики ПК у підпис вершин
node_labels = {i: f'ПК{i}\n{attr["Процесор"]}, {attr["Частота"]}, {attr["ОЗУ"]}' for i, attr in vertices.items()}
nx.draw_networkx_labels(G, pos, labels=node_labels, font_size=8)

# Додаємо ребра з підписом типу з'єднання та затримки
edge_labels = {(u, v): f'{d["Тип"]}, {d["Затримка"]}' for u, v, d in G.edges(data=True)}
nx.draw_networkx_edge_labels(G, pos, edge_labels=edge_labels, font_size=8)

# Показуємо граф
plt.title('Модель комп\'ютерної мережі')
plt.show()
